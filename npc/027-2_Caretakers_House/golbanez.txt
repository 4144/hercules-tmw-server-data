027-2.gat,39,91,0	script	Golbenez	307,{

	set @Graveyard_Inn_MASK, NIBBLE_4_MASK;
	set @Graveyard_Inn_SHIFT, NIBBLE_4_SHIFT;

	set @state, ((QUEST_Graveyard_Inn & @Graveyard_Inn_MASK) >> @Graveyard_Inn_SHIFT);

	set @Graveyard_Inn_Lover_MASK, NIBBLE_1_MASK;
	set @Graveyard_Inn_Lover_SHIFT, NIBBLE_1_SHIFT;

	set @lover, ((QUEST_Graveyard_Inn & @Graveyard_Inn_Lover_MASK) >> @Graveyard_Inn_Lover_SHIFT);

	if (@state ==1) goto L_Back;

	mes "[Golbanez]";
	mes "\"How do you like my place of leisure, mortal?\"";
	menu
		"What is this place? Why is it full of dead people?",-,
		"You look different here. Nice horns.",L_Horns,
		"I'm enjoying myself, thanks for asking.",L_Close;

	mes "[Golbanez]";
	mes "\"Mortal, this is way over your head. Don't worry about that and enjoy your time.\"";

	if (@lover < 2)
		goto L_Close;
	menu
		"I want to know. Try me.",-;

	mes "Golbanez takes a piercing look at you.";
	mes "[Golbanez]";
	mes "\"Fine.\"";
	next;
	mes "\"This place was an usual inn many many of your years ago. I found it by chance and it became one of my favorite playgrounds ever.\"";
	next;
	mes "Golbanez laughs in a way which really gives you the creeps.";
	next;
	mes "[Golbanez]";
	mes "\"Unfortunaly - it got destroyed. So I took the memories of the dead and recreated this place.\"";
	menu
		"What do you mean with playground?",-,
		"Recreated? What do you mean with that?",-;

	mes "[Golbanez]";
	mes "\"As I said, you don't understand. You start to bore me. Leave.\"";

	set @state, 1;
	callsub S_Update_Mask;

	close;

L_Back:
	//TODO: continue here
	close;

L_Horns:
	mes "Golbanez bursts out with laughter.";
	next;
	mes "[Golbanez]";
	mes "\"Mortals! They never stop surprising me.\"";
	close;

L_Close:
	close;

S_Update_Mask:
        set QUEST_Graveyard_Inn,
        	(QUEST_Graveyard_Inn & ~(@Graveyard_Inn_MASK))
                | (@state << @Graveyard_Inn_SHIFT);
        return;
}
